# sql_string_function-
CREATE TABLE Orders (
    Order_ID INT PRIMARY KEY,
    Order_Date DATE,
    Customer_ID VARCHAR(10),
    Customer_Name VARCHAR(100),
    Product_Category VARCHAR(100),
    Product_Name VARCHAR(150),
    Quantity INT,
    Unit_Price DECIMAL(10,2),
    Payment_Mode VARCHAR(50),
    Store_Location VARCHAR(100)
);

INSERT INTO Orders
(Order_ID, Order_Date, Customer_ID, Customer_Name, Product_Category, Product_Name, Quantity, Unit_Price, Payment_Mode, Store_Location)
VALUES
(1001, '2026-02-01', 'C001', 'Ravi Kumar', 'Electronics', 'Wireless Mouse', 2, 799, 'UPI', 'Bangalore'),

(1002, '2026-02-02', 'C002', 'Sneha Reddy', 'Grocery', 'Basmati Rice 5kg', 1, 650, 'Credit Card', 'Hyderabad'),

(1003, '2026-02-03', 'C003', 'Arjun Mehta', 'Fashion', 'Men''s T-Shirt', 3, 499, 'Cash', 'Chennai'),

(1004, '2026-02-04', 'C004', 'Priya Sharma', 'Electronics', 'Bluetooth Speaker', 1, 1499, 'Debit Card', 'Mumbai'),

(1005, '2026-02-05', 'C005', 'Kiran Rao', 'Home & Kitchen', 'Mixer Grinder', 1, 2499, 'UPI', 'Bangalore'),

(1006, '2026-02-06', 'C006', 'Neha Verma', 'Beauty', 'Face Cream', 4, 299, 'Credit Card', 'Delhi'),

(1007, '2026-02-07', 'C007', 'Rahul Das', 'Grocery', 'Cooking Oil 1L', 5, 180, 'Cash', 'Kolkata'),

(1008, '2026-02-08', 'C008', 'Anjali Nair', 'Fashion', 'Women''s Jeans', 2, 1199, 'UPI', 'Kochi'),

(1009, '2026-02-09', 'C009', 'Suresh Patel', 'Electronics', 'Smartphone', 1, 15999, 'Debit Card', 'Ahmedabad'),

(1010, '2026-02-10', 'C010', 'Meena Iyer', 'Home & Kitchen', 'Pressure Cooker', 1, 1899, 'Credit Card', 'Pune');


-- 1 Write a query to convert all customer names to uppercase.
SELECT UPPER(customer_name) AS customer_name
FROM customers;

--2 Extract the first 5 characters from Product_Name
SELECT SUBSTR(Product_Name, 1, 5) AS Short_Name
FROM Products;

-- 3 Find the length of each Customer_Name.
SELECT Customer_Name,
       LENGTH(Customer_Name) AS Name_Length
FROM Customers;

-- 4 Replace the word "Rice" with "Premium Rice" in Product_Name.
SELECT REPLACE(Product_Name, 'Rice', 'Premium Rice') AS Updated_Name
FROM Products;
-- 5  Remove leading and trailing spaces from Customer_Name.
SELECT TRIM(Customer_Name) AS Cleaned_Name
FROM Customers;
-- 6 Concatenate First_Name and Last_Name as Full_Name.
SELECT First_Name || ' ' || Last_Name AS Full_Name
FROM Customers;
-- 7 Find customers whose names start with 'A'.
SELECT *
FROM Customers
WHERE Customer_Name LIKE 'A%';
-- 8 Extract the domain name from Email_ID.

--9 Find the position of '@' in Email_ID

--10 Reverse the Product_Name.
SELECT Product_Name,
       REVERSE(Product_Name) AS Reversed_Name
FROM Products;
-- 11 Convert the first letter of each word in Product_Name to uppercase.
SELECT Product_Name,
       INITCAP(Product_Name) AS Formatted_Name
FROM Products;
--12  Extract the last 3 characters from Order_ID
SELECT Order_ID,
       SUBSTR(Order_ID, -3) AS Last_3_Chars
FROM Orders;
-- 13 Count how many times letter 'a' appears in Customer_Name.
SELECT Customer_Name,
       LENGTH(Customer_Name) - LENGTH(REPLACE(LOWER(Customer_Name), 'a', '')) AS A_Count
FROM Customers;
--14 Mask the last 4 digits of a phone number.

FROM Customers;
-- 15 Split Full_Name into First_Name and Last_Name.
SELECT Full_Name,
       SUBSTR(Full_Name, 1, INSTR(Full_Name, ' ') - 1) AS First_Name,
       SUBSTR(Full_Name, INSTR(Full_Name, ' ') + 1) AS Last_Name
FROM Customers;

-- 16 remove all special characters from Product_Code.
SELECT Product_Code,
       REGEXP_REPLACE(Product_Code, '[^A-Za-z0-9]', '') AS Cleaned_Code
FROM Products;

-- 17  Compare two columns ignoring case sensitivity.

--18 Find customers whose name contains 'kumar'
SELECT *
FROM Customers
WHERE LOWER(Customer_Name) LIKE '%kumar%';

--19 Pad Order_ID with leading zeros to make it 6 digits.
SELECT Order_ID,
       LPAD(Order_ID, 6, '0') AS Padded_Order_ID
FROM Orders;
-- 20 Extract substring between two characters.
SELECT Text_Column,
       SUBSTR(
           Text_Column,
           INSTR(Text_Column, '[') + 1,
           INSTR(Text_Column, ']') - INSTR(Text_Column, '[') - 1
       ) AS Substring_Between
FROM Your_Table;


-- numerical functions
-- 1 Round Unit_Price to 2 decimal places.
SELECT Unit_Price,
       ROUND(Unit_Price, 2) AS Rounded_Price
FROM Orders;
--2 Find total sales per order.
SELECT Order_ID,
       Customer_Name,
       Quantity * Unit_Price AS Total_Sales
FROM Orders;
--3 Calculate average order value
SELECT AVG(Quantity * Unit_Price) AS Avg_Order_Value
FROM Orders;
--4 Find highest product price.
SELECT MAX(Unit_Price) AS Highest_Price
FROM Orders;
-- 5 Find lowest product price.
SELECT MIN(Unit_Price) AS Lowest_Price
FROM Orders;

--6 Calculate percentage discount applied.
-- Assuming a Discount column exists
SELECT Order_ID,
       Product_Name,
       Unit_Price,
       Discount,
       (Discount / Unit_Price) * 100 AS Discount_Percentage
FROM Orders;

--7 Find modulus of Quantity divided by 2.
SELECT Order_ID,
       Quantity,
       MOD(Quantity, 2) AS Quantity_Mod_2
FROM Orders;

--8 Convert negative values to positive.
SELECT Order_ID,
       Quantity,
       Unit_Price,
       ABS(Quantity) AS Quantity_Positive,
       ABS(Unit_Price) AS Unit_Price_Positive
FROM Orders;

--9 Truncate price without rounding
SELECT Unit_Price,
       TRUNC(Unit_Price) AS Truncated_Price
FROM Orders;

--10 Find square root of total sales.
SELECT Order_ID,
       Quantity * Unit_Price AS Total_Sales,
       SQRT(Quantity * Unit_Price) AS Sqrt_Total_Sales
FROM Orders;

--11 Calculate exponential value of a number.
SELECT Unit_Price,
       EXP(Unit_Price) AS Exp_Value
FROM Orders;

--12 Calculate power of 2^5.
SELECT POWER(2, 5) AS Result
FROM dual;

--13 Find absolute difference between two prices
SELECT ABS(
           (SELECT Unit_Price FROM Orders WHERE Order_ID = 1005) -
           (SELECT Unit_Price FROM Orders WHERE Order_ID = 1002)
       ) AS Abs_Difference
FROM dual;
 -- 14 Calculate sales growth percentage.
SELECT Order_ID,
       Customer_Name,
       Quantity * Unit_Price AS Total_Sales,
       LAG(Quantity * Unit_Price) OVER (ORDER BY Order_Date) AS Previous_Sales,
       ROUND(
           ((Quantity * Unit_Price - LAG(Quantity * Unit_Price) OVER (ORDER BY Order_Date))
            / LAG(Quantity * Unit_Price) OVER (ORDER BY Order_Date)) * 100, 2
       ) AS Sales_Growth_Percentage
FROM Orders;

--15 Find random number between 1 and 100
SELECT ROUND(DBMS_RANDOM.VALUE(1, 100)) AS Random_Number
FROM dual;

--16 Divide total sales by number of orders.

SELECT SUM(Quantity * Unit_Price) / COUNT(*) AS Avg_Sales_Per_Order
FROM Orders;

--17 Find ceiling value of price
SELECT Unit_Price,
       CEIL(Unit_Price) AS Ceiling_Price
FROM Orders;

--18 Find floor value of price.
SELECT unit_price,
    FLORE(unit_price) AS flore_price
FROM orders;

--19 Convert decimal to integer.
SELECT unit_price,
    CAST(unit_price AS INT) AS integer_value
FROM orders;

--20 Calculate compound interest.

